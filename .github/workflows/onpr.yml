name: Update dependabot configuration file

env:
  nextr: "${{ secrets.NEXT_RELEASE }}"

on:
  pull_request_target:
    types: [closed]

jobs:
  build:
    if: github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    steps:
        - name: "Run dependabot config generator 1"
          run: echo "1"
        
        - name: "Run dependabot config generator 2"
          id: check
          if: ${{ env.nextr == github.event.pull_request.base.ref }}
          run: echo "2"
          
        - name: "Run dependabot config generator 3"
          if: steps.check.conclusion == 'success'
          run: echo "success"
          
        - name: "Run dependabot config generator 4"
          if: steps.check.conclusion == 'skipped'
          run: echo "skipped"
